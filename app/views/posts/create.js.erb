// This file has to have the same name as the action in the controller
// console.log("Post was created!");

// Hide the create Post modal
$('#newPost').modal('hide');
// console.log("The modal hides!");

// Empty the field forms
$('.post_title').val('');
$('.post_content').val('');
// console.log("The form fields clear!");

// Add the Post to the beginning of the page
// put the j before render to let it know it's JavaScript
// $('#container_posts .grid').append('<%= j render @post %>');
// $('#container_posts .grid .grid-sizer').insertAfter('<%= j render @post %>');
// $('.grid').masonry('layout');
var counter = $('#counter').text();
console.log(counter);
counter++;
console.log(counter);

var item = $('<%= j render @post %>');
$('.grid').masonry().append(item).masonry('appended', item);

$('#counter').text(counter);


console.log('Post appended to the page!');
